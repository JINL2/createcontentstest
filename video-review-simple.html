<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ƒê√°nh gi√° Video - Contents Helper</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="video-review.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
    <div class="review-container">
        <!-- Ìó§Îçî -->
        <header class="review-header">
            <button class="back-button" onclick="goBack()">
                <span class="back-icon">‚Üê</span>
            </button>
            <div class="review-progress">
                <div class="progress-info">
                    <span class="progress-text">H√¥m nay: <span id="todayReviewed">0</span>/<span id="todayTarget">20</span></span>
                    <span class="streak-info">üî• <span id="reviewStreak">0</span></span>
                </div>
                <div class="progress-bar-slim">
                    <div class="progress-fill-slim" id="reviewProgressFill"></div>
                </div>
            </div>
            <div class="points-earned">
                <span class="points-icon">‚≠ê</span>
                <span class="points-value">+<span id="earnedPoints">0</span></span>
            </div>
        </header>

        <!-- ÎπÑÎîîÏò§ Î∑∞Ïñ¥ -->
        <div class="video-viewer" id="videoViewer">
            <!-- Î°úÎî© ÏÉÅÌÉú -->
            <div class="loading-state" id="loadingState">
                <div class="spinner-large"></div>
                <p>ƒêang t·∫£i video...</p>
            </div>

            <!-- ÎπÑÎîîÏò§ ÌîåÎ†àÏù¥Ïñ¥ -->
            <div class="video-player" id="videoPlayer" style="display: none;">
                <!-- Îã®ÏàúÌôîÎêú ÎπÑÎîîÏò§ ÏóòÎ¶¨Î®ºÌä∏ -->
                <video id="reviewVideo" controls style="width: 100%; height: 100%;"></video>
                
                <!-- ÎπÑÎîîÏò§ Ï†ïÎ≥¥ Ïò§Î≤ÑÎ†àÏù¥ -->
                <div class="video-info-overlay">
                    <div class="video-metadata">
                        <h3 class="video-title" id="videoTitle">Ti√™u ƒë·ªÅ video</h3>
                        <div class="video-tags" id="videoTags">
                            <!-- ÌÉúÍ∑∏ ÎèôÏ†Å ÏÉùÏÑ± -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Îπà ÏÉÅÌÉú -->
            <div class="empty-state" id="emptyState" style="display: none;">
                <div class="empty-icon">üé¨</div>
                <h3>Kh√¥ng c√≤n video ƒë·ªÉ ƒë√°nh gi√°</h3>
                <p>B·∫°n ƒë√£ ƒë√°nh gi√° t·∫•t c·∫£ video c·ªßa c√¥ng ty!</p>
                <p>H√£y quay l·∫°i sau khi c√≥ video m·ªõi.</p>
                <button class="btn btn-primary" onclick="goBack()">Quay l·∫°i trang ch√≠nh</button>
            </div>
        </div>

        <!-- ÌèâÍ∞Ä Ïª®Ìä∏Î°§ -->
        <div class="review-controls" id="reviewControls" style="display: none;">
            <div class="rating-container">
                <h4 class="rating-title">ƒê√°nh gi√° video n√†y</h4>
                <div class="star-rating" id="starRating">
                    <span class="star" data-rating="1">‚≠ê</span>
                    <span class="star" data-rating="2">‚≠ê</span>
                    <span class="star" data-rating="3">‚≠ê</span>
                    <span class="star" data-rating="4">‚≠ê</span>
                    <span class="star" data-rating="5">‚≠ê</span>
                </div>
                <p class="rating-hint">ƒê√°nh gi√° ƒë·ªÉ nh·∫≠n +5 ƒëi·ªÉm</p>
            </div>
        </div>

        <!-- ÎåìÍ∏Ä ÏûÖÎ†• (ÏÑ†ÌÉùÏÇ¨Ìï≠) -->
        <div class="comment-section" id="commentSection" style="display: none;">
            <div class="comment-input-container">
                <input type="text" id="commentInput" placeholder="Th√™m b√¨nh lu·∫≠n... (+10 ƒëi·ªÉm)" class="comment-input">
                <button class="comment-submit" onclick="submitComment()">
                    <span>‚û§</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Ìè¨Ïù∏Ìä∏ ÌöçÎìù Ïï†ÎãàÎ©îÏù¥ÏÖò -->
    <div class="points-animation" id="pointsAnimation">
        <span class="animated-points">+<span id="animatedPointsValue">0</span></span>
    </div>

    <!-- Ïó∞ÏÜç ÌèâÍ∞Ä Ïï†ÎãàÎ©îÏù¥ÏÖò -->
    <div class="streak-animation" id="streakAnimation">
        <div class="streak-fire">üî•</div>
        <div class="streak-text">ƒê√°nh gi√° li√™n ti·∫øp!</div>
    </div>

    <!-- ÏÑ±Í≥µ/Ïò§Î•ò ÌÜ†Ïä§Ìä∏ -->
    <div class="toast success-toast" id="successToast">
        <span class="toast-icon">‚úÖ</span>
        <span class="toast-message"></span>
    </div>

    <div class="toast error-toast" id="errorToast">
        <span class="toast-icon">‚ö†Ô∏è</span>
        <span class="toast-message"></span>
    </div>

    <script src="config.js"></script>
    <script src="video-review-simple.js"></script>
</body>
</html>